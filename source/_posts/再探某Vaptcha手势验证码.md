title: 再探某Vaptcha手势验证码
date: 2025-12-10 19:12:04
tags:
    - 逆向
categories:
---
目标站点 aHR0cHM6Ly93d3cudmFwdGNoYS5jb20vI2RlbW8=

之前写过一篇[某Vaptcha手势验证逆向](https://mp.weixin.qq.com/s/b6zva3phpw-MpRsKPG_66w)，能拿到 token, 但真的跑起来，还是会遇到很多问题。

比如能返回 token, 但拿着 token 去请求的时候，会返回参数校验失败。这是因为站点会拿着token去做二次校验，二次校验通不过就会提示参数校验失败，所以能获取到 token 并不代表真的成功。

比如Linux上 Canvas 生成服务容器跑通几次就一直获取不到 token, 本地 Mac 的 Canvas 生成
服务
容器却没问题。

比如 Windows 机器上的 Canvas 生成服务跑着跑着会变慢，本地 Mac 上的 Canvas 生成服务却一直没问题。

还有就是有的站点 50～55 分钟的时候会跑不动，因为版本发生了变化，得适配。

还有就是轨迹，看着两个轨迹加工的方法没什么大的区别，但真的跑起来效果却相差很大。

最后发现 Canvas 指纹其实随机也能行，不一定要浏览器生成的。但浏览器生成的好的一点是 token 没遇到过 00000000 的情况，随机生成会遇到。

很多时候，还是看请求量。请求量少的时候，怎么方便怎么来，但请求量多的时候，就真的考验人。
