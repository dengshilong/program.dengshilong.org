title: 听闻某数又更新了
date: 2025-11-23 16:01:48
tags:
    - 逆向
    - 补环境
    - jsdom
    - sdenv
categories:
---
目标站点: aHR0cHM6Ly9ldGF4LmNoaW5hdGF4Lmdvdi5jbi8=

听道友说某数又更新了，很多补环境方案不能用了，于是测试了下，以前基于 jsdom 的方案果然不能用了。之前就在[当jsdom补环境被针对](https://mp.weixin.qq.com/s/D7hQPPmUJg5cYOil4Q0Zsw)里写过，如果非得用 jsdom，就只能悄咪咪的用，别声张了。但你得时刻提防着被检测，因为 jsdom 可以检测的点真的是太多了。

继续测试了之前自己搞的补环境方案，还能过，又测试了下今年研究的[浏览器补环境方案](https://mp.weixin.qq.com/s/qfJ8gT6IhT6WN-5KBuU1ig)，也能过，这就稳妥了，有两个方案在手就还行，不会被打的措手不及。

花了点时间看了下这个版本，毕竟这是22年以来，针对补环境最大的一次更新了。可以看到 rs 安全人员花了很多精力在补环境检测上，几乎把市面上开源的方案都检测过去了, V佬可以的。其中 sdenv 是重灾区。毕竟有了sdenv, 新手都能过了，这可不行。

尝试去找找之前基于 jsdom 的补环境不能通过的原因，发现还是因为检测点太多了，_ast, _runScripts等等。不想继续找了，这补环境错在哪里真难找。还是浏览器补环境来的舒服，啥也不用改，无脑渲染完事。不用去想着怎么把浏览器特性在Node环境里实现，舒服得很。而且这浏览器补环境也就比自己写的补环境方案慢了50%，这性能能接受了。不过需要处理的是，当自动化被检测时，要怎么把这些检测点找出来。至少目前还不需要，目前能过。

遗憾的是，加密算法还是没有太多的改变，估计还是因为改加密算法涉及的东西太多了，阻力太大。如果加密算法大变，再加上这 jsvmp，算法方案就又有得搞了。

不管怎样，等这个版本大规模铺开，人均某数的时代就过去了。
