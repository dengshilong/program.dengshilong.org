title: 爱与生的苦恼开发小记
date: 2017-03-11 21:46:24
tags:
    - Python
    - Flask
    - Django
categories:
---
因为新公司要使用Flask开发，于是需要熟悉它。找到[《Flask Web Developmen》](https://github.com/dengshilong/book/blob/master/python/Flask-Web-Development-2014.pdf)这本书，于是开始学习使用Flask编写Web站点。

想到把之前用Django开发的站点，爱与生的苦恼还不够完善，于是决定用Flask重写。之所以叫爱与生的苦恼，是因为之前看过叔本华写的《爱与生的苦恼》。想想每个人很多时候都是在爱与恨中度过，就像我喜欢跑步，囚徒健身，现代牧业，旭辉控股，莱尔斯丹等等，讨厌工商银行，赌博，垄断，Windows命令行等等。于是我想把它记下来，也可以看看自己喜欢与讨厌的变化。或许随着时间的推移，自己会变得更加宽容，更加开放。也许那个时候，不在讨厌工商银行，Windows命令行也是有可能的。记微信朋友圈显得有些杂乱，于是干脆记在自己写的网站里。

《Flask Web Development》的作者[Miguel Grinberg](https://github.com/miguelgrinberg)显然具有多年开发经验，将Web开发需要注意的地方，通过一个完整的博客应用娓娓道来，令人倾佩。许多代码稍作更改，就可以用在自己的站点中，大呼过瘾。如果要学习Flask开发，极力推荐看看这本书。

相比于Django, Flask显得更加轻量。没有了Django的admin，但好在应用比较简单，写个简单的后台没有什么问题。基本上Django里有的功能，Flask都能找到合适替代品。整个开发过程还是很顺畅的，唯一不好的一点是Flask的migrate功能有问题，当使用SQLite做数据库时，自动生成的SQL语句会出问题，主要是SQLite不支持Alter字段。

刚开始时，访问速度很慢，因为显示的都是原始图片，动不动就是10M，用户体验不是很好。曾考虑过使用七牛图床，只是这样增加了开发成本，而且需要把照片寄存在第三方应用中，好处是图片清晰。考虑之后，还是决定使用Pillow模块进行图片裁剪，目前来看，效果还不错。

之后添加了粉丝，评论功能这些社交元素。除了界面显示效果略差，整体效果还算满意。

站点地址可移步[爱与生的苦恼](http://lovehate.cc/), 欢迎在此记录爱与生的苦恼。
