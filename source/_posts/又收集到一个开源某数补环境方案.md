title: 又收集到一个开源某数补环境方案
date: 2025-09-21 19:17:29
tags:
    - 补环境
    - 逆向
categories:
---
声明: 本文章中所有内容仅供学习交流使用，不用于其他任何目的，不提供完整代码。抓包内容、敏感网址、数据接口等均已做脱敏处理，严禁用于商业用途和非法用途，否则由此产生的一切后果均与作者无关！若有侵权，请在公众号 【静夜随想】 联系作者立即删除！

之前就知道这个 https://www.52pojie.cn/forum.php?mod=viewthread&tid=2012413，但一直没去试。正好周末闲着没事，于是研究了下这个补环境方案。

这个方案没有加 [window.ActiveXObject=undefined](https://mp.weixin.qq.com/s/3NeI6AendlTlNMIrKL0G8Q) 这个代码，也就没有走IE那一套，而是直接按照 Chrome 硬补，form 表单校验，document.all 校验这些都给补了，这就很好。而它没有用vm2 创建沙盒环境，直接在 Node 上补，这就减少了创建沙盒环境的时间，在速度上也就有了保证。

虽然这个环境没有严格的 DOM 树操作，但它的确能跑通，而能跑通对于绝大多数爬虫来说就足够了。

将它进行了改造，改成Express服务，发现还是挺通用的，测试了几个普通站点能过，但校验严格的站点还是过不去。知足了，毕竟免费的，还想怎样。
